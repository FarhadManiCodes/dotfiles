#!/bin/bash
# =============================================================================
# UNIFIED THEME SYSTEM - PRACTICAL CONFIGURATION
# =============================================================================
# Single source of truth for application themes
# Optimized for real-world usage and terminal background compatibility

# Current active theme configuration
THEME="onedark"         # Options: onedark, gruvbox, papercolor
THEME_MODE="dark"       # Options: dark, light

case "${THEME}-${THEME_MODE}" in
  "onedark-dark")
    export APP_THEME_NAME="onedark"
    
    # Bat - Use Monokai for better terminal background compatibility
    export BAT_THEME="Monokai Extended"
    export MANPAGER="sh -c 'col -bx | bat -l man -p --theme=Monokai Extended'"
    export MANROFFOPT="-c"
    
    # Delta - OneDark works well for git diffs
    export DELTA_FEATURES="onedark"
    
    # Color variables for other tools (FZF, P10k accents, etc.)
    export THEME_BG="#282c34"
    export THEME_FG="#abb2bf"
    export THEME_RED="#e06c75"
    export THEME_GREEN="#98c379"
    export THEME_YELLOW="#e5c07b"
    export THEME_BLUE="#61afef"
    export THEME_PURPLE="#c678dd"
    export THEME_CYAN="#56b6c2"
    export THEME_SELECTION="#3e4451"
    export THEME_COMMENT="#5c6370"
    ;;
    
  "papercolor-light")
    export APP_THEME_NAME="papercolor"
    
    # Bat - GitHub theme for light background compatibility
    export BAT_THEME="GitHub"
    export MANPAGER="sh -c 'col -bx | bat -l man -p --theme=GitHub'"
    export MANROFFOPT="-c"
    
    # Delta - GitHub theme for light diffs
    export DELTA_FEATURES="github"
    
    # Color variables for other tools
    export THEME_BG="#eeeeee"
    export THEME_FG="#444444"
    export THEME_RED="#af0000"
    export THEME_GREEN="#008700"
    export THEME_YELLOW="#d75f00"
    export THEME_BLUE="#0087af"
    export THEME_PURPLE="#8700af"
    export THEME_CYAN="#00afaf"
    export THEME_SELECTION="#d0d0d0"
    export THEME_COMMENT="#8a8a8a"
    ;;
    
  "gruvbox-dark")
    export APP_THEME_NAME="gruvbox"
    
    # Bat - Use gruvbox-dark or Monokai as fallback
    export BAT_THEME="gruvbox-dark"
    export MANPAGER="sh -c 'col -bx | bat -l man -p --theme=gruvbox-dark'"
    export MANROFFOPT="-c"
    
    # Delta - gruvbox theme
    export DELTA_FEATURES="gruvbox-dark"
    
    # Color variables
    export THEME_BG="#282828"
    export THEME_FG="#ebdbb2"
    export THEME_RED="#cc241d"
    export THEME_GREEN="#98971a"
    export THEME_YELLOW="#d79921"
    export THEME_BLUE="#458588"
    export THEME_PURPLE="#b16286"
    export THEME_CYAN="#689d6a"
    export THEME_SELECTION="#504945"
    export THEME_COMMENT="#928374"
    ;;
    
  "gruvbox-light")
    export APP_THEME_NAME="gruvbox-light"
    
    # Bat - gruvbox-light or GitHub as fallback
    export BAT_THEME="gruvbox-light"
    export MANPAGER="sh -c 'col -bx | bat -l man -p --theme=gruvbox-light'"
    export MANROFFOPT="-c"
    
    # Delta - gruvbox light theme
    export DELTA_FEATURES="gruvbox-light"
    
    # Color variables
    export THEME_BG="#fbf1c7"
    export THEME_FG="#3c3836"
    export THEME_RED="#cc241d"
    export THEME_GREEN="#98971a"
    export THEME_YELLOW="#d79921"
    export THEME_BLUE="#458588"
    export THEME_PURPLE="#b16286"
    export THEME_CYAN="#689d6a"
    export THEME_SELECTION="#ebdbb2"
    export THEME_COMMENT="#928374"
    ;;
esac


# Phase 1: Export current theme info for debugging
export UNIFIED_THEME_LOADED="true"
export CURRENT_THEME="${THEME}-${THEME_MODE}"

